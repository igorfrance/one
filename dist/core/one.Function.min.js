var $function=function(){var a=/^[\s\S$]*?function[\s\n]+(([\w.$]*)[\s\n]*\((.*)\))\W[\s\S]*$/,b={};return b.EMPTY=function(){},b.getName=function(b,c,d){if(0==arguments.length){if(b=arguments.callee.caller,!$type.isFunction(b))return null}else{if(null==b)return null;if(!$type.isFunction(b)&&(b=b.constructor,!$type.isFunction(b)))return null}var e=String(b).replace(a,function(){var a=arguments[2]?arguments[2]:"anonymous",b=arguments[2]?arguments[1]:[a,"(",arguments[3],")"].join($string.EMPTY);return c&&!d?b:c&&d?arguments[3]:a});return e.replace(/([\w\$])\$([\w\$])/g,"$1.$2")},b.callerName=function(){return b.getName(arguments.callee.caller.caller)},b.stackTrace=function(a,c){for(var d=a||arguments.callee.caller,e=[],f=[],g=0;!(null==d||c&&g>=c||f.contains(d));){for(var h=(b.getName(d),[]),i=d.arguments,j=0;j<i.length;j++)$type.isFunction(i[j])&&$type.isFunction(i[j].getName)?h.push(i[j].getName(!0)):$type.isArray(i[j])?h.push("array[{0}]".format(i[j].length)):$type.isObject(i[j])?h.push("object{..}"):$type.isNull(i[j])?h.push("null"):$type.isString(i[j])?h.push(i[j].length<200?'"{0}"'.format(i[j]):"[string({0})]".format(i[j].length)):void 0==i[j]?h.push("undefined"):h.push(i[j]);f.push(d),e.unshift(b.getName(d)+"("+h.join(", ")+")");try{d=d.caller}catch(k){break}g++}return e.toString=function(a){return this.join(a||"\n")},e},b.delay=function(a,b){a.id=setTimeout(b,a.delay)},b}();