var one=function a(b){function c(){}function d(a){this.get=d.prototype.get,this.set=d.prototype.set,this["default"]=void 0,this.value=null,this.restrictTo=null,b.extend(this,a),this.value=this["default"]}function e(){}var a={},f=new function B(){function B(){return arguments.length?typeof arguments[0]:null}return B.registerNamespace=function(a){for(var b=a.split("."),c=window,d=0;d<b.length;d++)null==c[b[d]]&&(c[b[d]]={}),c=c[b[d]]},B.isArray=function(a,b){return null==a?b||!1:a.constructor==Array||a!=window&&!f.isString(a)&&!f.isFunction(a)&&f.isNumber(a.length)||b||!1},B.isBoolean=function(a){return null==a?!1:"boolean"==B(a)||a.constructor==Boolean},B.isFunction=function(a,b){return null==a?b||!1:"function"==B(a)||a.constructor==Function||!f.isString(a)&&Boolean(String(a).match(/\bfunction\b/))||b||!1},B.isNull=function(a){return null==a||void 0==a},B.isNumber=function(a,b){return null==a?b||!1:"number"==B(a)&&isFinite(a)||a.constructor==Number||b||!1},B.isNumeric=function(a){return!isNaN(parseFloat(a))},B.isDate=function(a,b){return null==a?b||!1:f.isFunction(a.getDate)&&f.isFunction(a.getTime)||b||!1},B.isObject=function(a,b){return null==a||void 0==a?b||!1:"object"==B(a)&&a.constructor!=String&&a.constructor!=Number||f.isFunction(a)||b||!1},B.isString=function(a,b){return null==a?b||!1:"string"==B(a)||null!=a&&a.constructor==String||b||!1},B.isNode=function(a){return f.isObject(a)&&f.isNumber(a.nodeType)},B.isDocument=function(a){return f.isNode(a)&&9==a.nodeType},B.isElement=function(a){return f.isNode(a)&&1==a.nodeType},B.isHtmlElement=function(a){return f.isElement(a)&&f.isString(a.className)},B.instanceOf=function(a,b){if(!f.isObject(a)||!f.isFunction(b))return!1;if(a instanceof b)return!0;if(a.__type&&a.__type.constructor==b)return!0;if(a.__type&&null!=a.__type.base)for(var c=a;c=c.__type.base;)if(c.__type.constructor==b)return!0;return!1},B["implements"]=function(a,b){var c=!0;if(null==a||null==b)c=!1;else for(var d in b)if(b.hasOwnProperty(d)&&!f.isFunction(a[d])){c=!1;break}return c},B.extend=function(a,b,c){if(c=c||!1,a&&b)for(var d in b)b.hasOwnProperty(d)&&(void 0==a[d]||c)&&(a[d]=b[d]);return a},B},g=new function(){function a(a,c,d,e){for(var f=String(a),g=c-f.length,h=[];h.length<g;)h.push(d);return h=h.join(b.EMPTY),2==e?f+h:h+f}var b=this;b.EMPTY="";var c;this.format=function(d){var e=i.fromArguments(arguments,1);return null==c&&(c=/\{(\d+)([$#])?(\d+)?([+-])?\}/g),String(d).replace(c,function(){try{var c=String(e[arguments[1]])}catch(d){c=b.EMPTY}if(arguments[2]!=b.EMPTY&&arguments[3]!=b.EMPTY){var f="+"==arguments[4]?2:1;c=a(c,arguments[3],"#"==arguments[2]?"0":" ",f)}return c})},this.isEmpty=function(a){return null==a||b.trim(a)==b.EMPTY},this.trim=function(a,b){null==b&&(b="\\s");var c=new RegExp("^["+b+"]*([\\s\\S]*?)["+b+"]*$");return String(a).replace(c,"$1")},this.padLeft=function(a,b,c){void 0==c&&(c=" ");for(var d=String(a);d.length<b;)d=c+d;return d},this.padRight=function(a,b,c){void 0==c&&(c=" ");for(var d=String(a);d.length<b;)d+=c;return d},this.repeat=function(a,c){for(var d=[],e=0;c>e;e++)d.push(a);return d.join(b.EMPTY)},this.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);return a.join(b.EMPTY)},this.substitute=function(a,b){return a&&b?a.replace(/\{([^}{]+)\}/g,function(a,c){return null!=b[c]?b[c]:a}):a},String.prototype.trim=function(a){return b.trim(this,a)},String.prototype.format=function(){return b.format(this,arguments)}},h=function(){function a(a,b,c){var d=0,e=Number.MAX_VALUE,g=!0;1==arguments.length&&(f.isBoolean(arguments[0])?g=!arguments[0]:f.isNumber(arguments[0])&&(e=arguments[0])),2==arguments.length&&(f.isBoolean(arguments[1])?(e=parseInt(arguments[0])||0,g=!arguments[1]):f.isNumber(arguments[1])&&(d=parseInt(arguments[0])||0,e=arguments[1])),3==arguments.length&&(d=parseInt(arguments[0])||0,e=parseInt(arguments[1])||0,g=!arguments[2]);var h=d+(e-d)*Math.random();return g?Math.round(h):h}return{random:a}}(),i=new function(){this.fromArguments=function(a,b,c){if(null==a)return[];f.isArray(a)||(a=[a]),1==a.length&&f.isArray(a[0])&&(a=a[0]),isNaN(parseInt(b))&&(b=0),isNaN(parseInt(c))&&(c=a.length-1);for(var d=[],e=b;c>=e;e++)d.push(a[e]);return 1==d.length&&f.isArray(d[0])&&(d=d[0]),d},this.flatten=function(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];if(f.isArray(c))for(var d=0;d<c.length;d++)f.isArray(c[d])?a.push.apply(a,this.flatten(c[d])):a.push(c[d]);else a.push(c)}return a};var a={contains:function(a){return this.indexOf(a)>=0},indexOf:function(a,b){var c=isNaN(b)?0:b;if(0>c||c>this.length-1)return-1;for(var d=c;d<this.length;d++)if(this[d]==a)return d;return-1},lastIndexOf:function(a,b){var c=isNaN(b)?this.length-1:b;if(0>c||c>this.length-1)return-1;for(var d=c;d>=0;d--)if(this[d]==a)return d;return-1},every:function(a,b){if("function"!=typeof a)throw new Error("The callback argument is not a function!");b=b||this;for(var c=0;c<this.length;c++){var d=a.call(b,this[c],c,this);if(!d)return!1}return!0},some:function(a,b){if("function"!=typeof a)throw new Error("The callback argument is not a function!");b=b||this;for(var c=0;c<this.length;c++){var d=a.call(b,this[c],c,this);if(d)return!0}return!1},filter:function(a,b){if("function"!=typeof a)throw new Error("The callback argument is not a function!");var c=[];b=b||this;for(var d=0;d<this.length;d++){var e=a.call(b,this[d],d,this);e&&c.push(this[d])}return c},forEach:function(a,b){if("function"!=typeof a)throw new Error("The callback argument is not a function!");b=b||this;for(var c=0;c<this.length;c++)void 0!==this[c]&&a.call(b,this[c],c,this)},map:function(a,b){if("function"!=typeof a)throw new Error("The callback argument is not a function!");var c=[];b=b||this;for(var d=0;d<this.length;d++)void 0!==this[d]&&c.push(a.call(b,this[d],d,this));return c}};f.extend(Array.prototype,a)},j=function(){function a(a,b){var c=new Date,d=new Date(c.getFullYear(),c.getMonth(),c.getDate()),e=f.isDate(b)?new Date(b):a?new Date(d):new Date(c);if(a)if(/^\d+$/.test(a))e=new Date(parseInt(a));else if(/^([+-])(\d+|\d*\.\d*)([smhdMy])$/.test(a)){var h=RegExp.$1,k=parseFloat(RegExp.$2),l=RegExp.$3,m=g.concat("get",i[l]),n=g.concat("set",i[l]),o=Date.prototype[m].apply(e),p="-"==h?o-k:o+k;Date.prototype[n].call(e,p)}else for(var q in j)j.hasOwnProperty(q)&&!new function(){var b=j[q];a=a.replace(b.regexp,function(){return e=b.handler(e,arguments),g.EMPTY})};return e}function c(a,b){return f.isDate(a)?b?String(b).replace(/yyyy/g,a.getFullYear().toString()).replace(/yy/g,a.getFullYear().toString().substring(2,4)).replace(/MMMM/g,e[a.getMonth()]).replace(/MMM/g,e[a.getMonth()].substring(0,3)).replace(/MM/g,g.padLeft(a.getMonth()+1,2,0)).replace(/M/g,(a.getMonth()+1).toString()).replace(/dd/g,g.padLeft(a.getDate(),2,0)).replace(/d/g,a.getDate().toString()).replace(/hh/g,g.padLeft(a.getHours(),2,0)).replace(/h/g,a.getHours().toString()).replace(/mm/g,g.padLeft(a.getMinutes(),2,0)).replace(/m/g,a.getMinutes().toString()).replace(/ss/g,g.padLeft(a.getSeconds(),2,0)).replace(/s/g,a.getSeconds().toString()).replace(/wwww/g,h[a.getDay()]).replace(/www/g,h[a.getDay()].substr(0,3)):k.apply(a):"NaN"}function d(a){return f.isDate(a)?a:new Date}var e=["January","February","Match","April","May","June","July","August","September","October","November","December"],h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i={s:"Seconds",m:"Minutes",h:"Hours",d:"Date",M:"Month",y:"FullYear"},j={dayAndMonth1:{regexp:new RegExp("\\b(\\d{1,2})(-|/|\\.)(\\d{1,2})(?:\\2(\\d{2}))?\\b"),handler:function(a,b){var c=parseInt(b[1]),d=parseInt(b[3]),e=b[2];return d>12||"/"==e?(a.setDate(d),a.setMonth(c-1)):(a.setDate(c),a.setMonth(d-1)),isNaN(e)||a.setYear(Number(String((new Date).getFullYear()).substring(0,2)+String(e))),a}},dayAndMonth2:{regexp:new RegExp("(?:\\b(\\d{1,2})(?:[a-z]{2}|.|-)?\\s*)?\\b(jan|feb|mar|jun|jul|aug|sep|oct|nov|dec)(?:[a-z]+)?(?:(?:.|-)?\\s*\\b(\\d{1,2})(?:[a-z]{2}|.|-)?\\b)?","i"),handler:function(a,c){var d=c[2].toLowerCase(),e=b.inArray(d,"jan|feb|mar|jun|jul|aug|sep|oct|nov|dec".split("|"));a.setMonth(e);var f=parseInt(c[1]),g=parseInt(c[3]);return isNaN(f)||a.setDate(f),isNaN(g)||a.setDate(g),a}},time:{regexp:new RegExp("(?:\\b|T)\\b(\\dd{2}):(\\d{2}):(\\d{2})\\b"),handler:function(a,b){return a.setHours(parseInt(b[1])),a.setMinutes(parseInt(b[1])),a.setSeconds(parseInt(b[1])),a}},year:{regexp:new RegExp("\\b(\\d{4})(?:\\b|T)"),handler:function(a,b){return a.setYear(parseInt(b[1])),a}},today:{regexp:new RegExp("^today$"),handler:function(a){return a=new Date(a.getFullYear(),a.getMonth(),a.getDate())}}},k=Date.prototype.toString;return Date.prototype.toString=function(a){return c(this,a)},a.format=c,a.year=function(a){return d(a).getFullYear()},a.month=function(a){return d(a).getMonth()},a.day=function l(a){return l(a).getDate()},a.weekday=function(a){return d(a).getDay()},a.hours=function(a){return d(a).getHours()},a.minutes=function(a){return d(a).getMinutes()},a.seconds=function(a){return d(a).getSeconds()},a.time=function(a){return d(a).getTime()},a}(),k=function(){var a=/^[\s\S$]*?function[\s\n]+(([\w.$]*)[\s\n]*\((.*)\))\W[\s\S]*$/,b={};return b.EMPTY=function(){},b.getName=function(b,c,d){if(0==arguments.length){if(b=arguments.callee.caller,!f.isFunction(b))return null}else{if(null==b)return null;if(!f.isFunction(b)&&(b=b.constructor,!f.isFunction(b)))return null}var e=String(b).replace(a,function(){var a=arguments[2]?arguments[2]:"anonymous",b=arguments[2]?arguments[1]:[a,"(",arguments[3],")"].join(g.EMPTY);return c&&!d?b:c&&d?arguments[3]:a});return e.replace(/([\w\$])\$([\w\$])/g,"$1.$2")},b.callerName=function(){return b.getName(arguments.callee.caller.caller)},b.stackTrace=function(a,c){for(var d=a||arguments.callee.caller,e=[],g=[],h=0;!(null==d||c&&h>=c||g.contains(d));){for(var i=(b.getName(d),[]),j=d.arguments,k=0;k<j.length;k++)f.isFunction(j[k])&&f.isFunction(j[k].getName)?i.push(j[k].getName(!0)):f.isArray(j[k])?i.push("array[{0}]".format(j[k].length)):f.isObject(j[k])?i.push("object{..}"):f.isNull(j[k])?i.push("null"):f.isString(j[k])?i.push(j[k].length<200?'"{0}"'.format(j[k]):"[string({0})]".format(j[k].length)):void 0==j[k]?i.push("undefined"):i.push(j[k]);g.push(d),e.unshift(b.getName(d)+"("+i.join(", ")+")");try{d=d.caller}catch(l){break}h++}return e.toString=function(a){return this.join(a||"\n")},e},b}();c.extend=function(a){if(null==a||a==this||null==a.prototype)return a;var b=this,d=f.isFunction(a)?a:a.constructor;a.prototype.__type={base:b.prototype,constructor:d};for(var e in b.prototype)a.prototype.hasOwnProperty(e)||(a.prototype[e]=b.prototype[e]);return a.extend=a.extend||c.extend,a},c.prototype.construct=function(){if(null!=this.__type){this.$this=this.$this||this;var a=this.$this.__type.base.constructor;this.$this=this.$this.__type.base,a.apply(this,i.fromArguments(arguments)),delete this.$this}},c.prototype.base=function(a){if(null==this.__type)return null;for(var b=null,c=this,d=arguments.callee.caller;c.__type&&!b;)c.__type.base[a]!=d&&(b=c.__type.base[a]),c=c.__type.base;return"function"==typeof b?b.apply(this,Array.prototype.slice.call(arguments,1)):null},c.prototype.get=function(a){return 1==arguments.length&&this.hasOwnProperty(a)?f.instanceOf(this[a],d)?this[a].get():this[a]:void 0},c.prototype.set=function(a,b){2==arguments.length&&this.hasOwnProperty(a)&&(f.instanceOf(this[a],d)?void 0!=b&&this[a].set(b):this[a]=b)},d.prototype.get=function(){return this.getValue.apply(this,arguments)},d.prototype.set=function(a){this.setValue(a)},d.prototype.getValue=function(){return this.value},d.prototype.setValue=function(a){var b;switch(this.type){case Boolean:b=null!=String(a).match(/^true|1$/);break;case Number:b=parseFloat(a)||0;break;default:b=null==a?a:String(a)}var c=!0;if(null!=this.restrictTo)if(f.isArray(this.restrictTo))c=-1!=[].concat(this.restrictTo).indexOf(b);else{c=!1;for(var d in this.restrictTo)if(this.restrictTo.hasOwnProperty(d)&&this.restrictTo[d]==b){c=!0;break}}c&&(this.value=b)},d.prototype.valueOf=function(){return this.get()},d.prototype.toString=function(){return String(this.get())};var l=c.extend(function(){this.__events=[],this.__listeners={};for(var a=0;a<arguments.length;a++)this.registerEvent(arguments[a])});l.prototype.registerEvent=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];this.hasEvent(b)||(this.__events.push(b),this.__listeners[b]=[])}},l.prototype.hasEvent=function(a){return this.__events.contains(a)},l.prototype.hasListener=function(a,b){if(this.hasEvent(a))for(var c=0;c<this.__listeners[a].length;c++)if(this.__listeners[a][c]==b)return!0;return!1},l.prototype.addListener=function(a,b){return this.hasEvent(a)?this.hasListener(a,b)||this.__listeners[a].push(b):r.error("Did not add event '{0}' because the current object only supports '{1}'",a,this.__events.join(", ")),this},l.prototype.on=l.prototype.addListener,l.prototype.removeListener=function(a,b){if(this.hasEvent(a))if(f.isFunction(b)){for(var c=0;c<this.__listeners[a].length;c++)if(this.__listeners[a][c]==b)return this.__listeners[a].splice(c,1),this}else this.__listeners[a]=[];return this},l.prototype.off=l.prototype.removeListener,l.prototype.destroy=function(){for(var a in this.__listeners)this.off(a)},l.prototype.fireEvent=function(a,b){var c=null,d=null;f.instanceOf(a,x.Event)?(d=a.type,c=a):(null==b&&(b=this.createEventData()),d=a,c=new x.Event(this,d,b));var e=this.__listeners[d];if(null!=e&&0!=e.length){for(var g=0;g<e.length&&(!f.isFunction(e[g])||(e[g](c),!c.cancel));g++);return c}return null},l.prototype.fire=l.prototype.fireEvent,l.prototype.createEventData=function(a){return{}},l.prototype.toString=function(){var a=[];for(var b in this.__listeners)this.__listeners.hasOwnProperty(b)&&a.push("{0}: {1} listeners".format(b,this.__listeners[b].length));return"Dispatcher: {{0}}".format(a.join(", "))},c.extend(e),e.prototype.getValue=function(a,b,c,d,e){var g=b&&b.jquery?b[0]:b,h=c&&c.jquery?c[0]:c,i=d;if(f.isElement(h)?h.getAttribute("data-"+a)?i=h.getAttribute("data-"+a):h.getAttribute(a)&&(i=h.getAttribute(a)):h&&void 0!=h[a]?i=h[a]:f.isElement(g)?g.getAttribute("data-"+a)?i=g.getAttribute("data-"+a):g.getAttribute(a)&&(i=g.getAttribute(a)):g&&void 0!=g[a]&&(i=g[a]),null!=e){var j=!1;for(var k in e)if(i==e[k]){j=!0;break}j||(i=d)}return i},e.prototype.getBoolean=function(a,b,c,d){var e=String(this.getValue(a,b,c,d)).toLowerCase();return"1"==e||"true"==e||"yes"==e},e.prototype.getNumber=function(a,b,c,d,e){var g=this.getValue(a,b,c,d,e);return f.isNumeric(g)?parseFloat(g):0},e.prototype.getString=function(a,b,c,d,e){var f=this.getValue(a,b,c,d,e);return null==f?null:String(f)},e.prototype.getArray=function(a,b,c,d,e){var f=this.getString(a,b,c,d,e);if(null==f)return[];for(var g=f.split(/,/),h=[],i=0;i<g.length;i++)h.push(g[i].trim());return h},e.prototype.getFunction=function(b,c,d,e){var f=this.getValue(b,c,d,e);return a.type.isFunction(f)?f:null},e.prototype.setProperties=function(a,b){for(var c in this)if(this.hasOwnProperty(c)&&f.instanceOf(this[c],d)){var e=this.getValue(c,a,b,void 0);void 0!=e&&this[c].set(e)}},e.prototype.get=function(a){return f.instanceOf(this[a],d)?this[a].get():this[a]},e.prototype.set=function(a,b){return void 0===this[a]?console.warn("Current settings don't contain a property with name '{0}'.".format(a)):(f.instanceOf(this[a],d)?this[a].set(b):this[a]=b,this.get(a))};var m=function(c,d,e){function h(){var b=document.createElement("div");return b.setAttribute("id",a.dom.uniqueID(b)),String(c.expression).trim().replace(/\./g," ").match(/([\w\- ]+)/)&&b.setAttribute("className",RegExp.$1),b}function i(d,e){var h=b.extend({},c.options,e);if(null==d){if(!f.isFunction(this.createElement))throw Error(g.format("No element has been provided and the control '{0}' doesn't have 'createElement' method, therefore a new element can't be created",a.func.getName(this)));d=this.createElement(h)}var i=l(d);if(null==i){var m=k(d);i=new m(d,h),f.isFunction(i.init)&&i.init(),j(i)}return i}function j(a){f.instanceOf(a,o)&&(a.$element.attr("id",q.uniqueID(a.$element)),c.instances.contains(a)||c.instances.push(a))}function k(a){var d=n.defaultConstructor,e=b(a);for(var f in c.registeredConstructors)if(e.is(f)){d=c.registeredConstructors[f];break}return d}function l(a){if(null==a)return null;if(a.jquery&&(a=a[0]),f.isString(a)&&(a=b(a)[0]),null==a)return null;for(var d=f.isString(a),e=f.isElement(a),g=0;g<c.instances.length;g++){var h=c.instances[g];if(e&&h.element()[0]==a)return h;if(d&&h.id()==a)return h}return null}function m(a,b){return f.isString(a)||f.isFunction(b)?(c.registeredConstructors[a]=b,null):r.warn("Arguments expression:String and constructor:Function both need to be used")}c.create=c.create||i,c.createElement=c.createElement||h,c.get=c.get||l,c.register=c.register||m,c.dispose=c.dispose||Function.EMPTY,c.start=c.start||Function.EMPTY,c.instances=[],c.options=b.extend({},d),c.registeredConstructors={},c.registerInstance=j;var n=this;n.type=c,n.defaultConstructor=c.Control||c,n.typeName=a.func.getName(c),n.expression=e||c.expression,n.async=c.async===!0,n.getInstance=l,n.createInstance=i,this.checkType=function(a){if(n.type==a)return!0;if(n.defaultConstructor==a)return!0;for(var b in c.registeredConstructors)if(c.registeredConstructors[b]==a)return!0;return!1},this.redraw=function(){f.isFunction(c.redraw)&&c.redraw()},this.setup=function(a){c.setup&&c.async?c.setup(a):c.setup?(c.setup(),a()):a()},this.start=function(){c.start()},this.dispose=function(){c.dispose&&c.dispose()}},n=function(){var c=[],d=[],e=-1;this.redraw=function(){for(var a=0;a<c.length;a++)c[a].redraw()},this.register=function(b,e,g){var h,i,j;1==arguments.length&&(i=arguments[0]||{},j={},h=i.expression),2==arguments.length&&(h=arguments[0],i=arguments[1]||{},j={}),3==arguments.length&&(h=arguments[0],i=arguments[1]||{},j=arguments[2]||{}),d.push(h);var k=new m(i,j,h);return c.push(k),k.name=f.isString(i.NAME)?i.NAME:f.isFunction(i)?a.func.getName(i):a.func.getName(i.constructor),r.info("Registered control {0}",k.name),i},this.get=function(a,d){if(null==a)return null;if(a.jquery&&(a=a[0]),f.isString(a)&&(a=b(a)[0]),null==a)return null;for(var e=null,g=0;g<c.length;g++){var h=c[g];if(null!=d){if(h.checkType(d)||h.typeName==d||-1!=h.expression.indexOf(d)){e=h.getInstance(a);break}}else if(e=h.getInstance(a),null!=e)break}return e},this.setup=function(a){if(0==c.length)return void(f.isFunction(a)&&a());for(var b=this,d=0,e=0;e<c.length;e++){var g=c[e];g.setup(function(){++d==c.length&&(b.update(),f.isFunction(a)&&a())})}},this.dispose=function(){for(var a=0;a<c.length;a++)c[a].dispose()},this.start=function(){for(var a=0;a<c.length;a++)c[a].start()},this.update=function(f){if(e++,10>e){var g=b(d.join(", "),f||document);if(g.length>0)for(var h=0;h<c.length;h++){for(var i=0,j=c[h],k=g.filter(j.expression),l=0;l<k.length;l++){var m=j.getInstance(k[l]);null==m&&(j.createInstance(k[l],null,e),i++)}0!=i&&console.log("Created {0} instance(s) of {1}".format(i,j.name))}}else a.log.warn("An attempt was made to recurse into ControlRegistry.update deeper than 10 levels. Check the code for infinite loops");e--}},o=l.extend(function(a){this.construct(i.fromArguments(arguments,1)),this.$element=b(a),this.settings=new e});o.prototype.id=function(a){return f.isString(a)&&this.$element.attr("id",a),this.$element.attr("id")},o.prototype.destroy=function(){this.base("destroy");for(var a in this)0==a.indexOf("$")&&delete this[a]},o.prototype.element=function(){return this.$element},o.prototype.toString=function(){var b=a.func.getName(this.constructor);if(0==this.$element.length)return g.format("{0}(null)",b);var c=this.id(),d=this.$element.attr("class"),e=String(this.$element.prop("tagName")).toLowerCase();return g.format('{0}("{1}{2}{3}")',b,e,d?"."+d.replace(/\s+/,"."):g.EMPTY,c?"#"+c:g.EMPTY)},o.prototype.get=function(a){return void 0===this.settings?console.warn("Can't get '{0}' because the current control doesn't have an associated settings object.".format(a)):this.settings.get(a)},o.prototype.set=function(a,b){return void 0===this.settings?console.warn("Can't set '{0}' to '{1}' because the current control doesn't have an associated settings object.".format(a,b)):(this.settings.set(a,b),this.settings.get(a))},o.PROPS={VERTICAL:{scrollSize:"scrollHeight",scrollPos:"scrollTop",offsetPos:"offsetTop",size:"height",outerSize:"outerHeight",position:"top",positionAlt:"bottom",scrollPadding:"paddingRight",scrollPaddingSize:"width",minPos:"minY",maxPos:"maxY",paddingStart:"paddingTop",paddingEnd:"paddingBottom",marginStart:"marginTop",eventPos:"eventY",eventOffsetPos:"offsetY",startEventPos:"startEventY"},HORIZONTAL:{scrollSize:"scrollWidth",scrollPos:"scrollLeft",offsetPos:"offsetLeft",size:"width",outerSize:"outerWidth",position:"left",positionAlt:"right",scrollPadding:"paddingBottom",scrollPaddingSize:"height",minPos:"minX",maxPos:"maxX",paddingStart:"paddingLeft",paddingEnd:"paddingRight",marginStart:"marginLeft",eventPos:"eventX",eventOffsetPos:"offsetX",startEventPos:"startEventX"}};var p=new function C(){function C(){return 0==arguments.length?(null==c&&(c=C.parseDocument(document)),c):C.computed(arguments[0])}var c=null,d={text:["font-family","font-size","font-weight","font-style","color","text-transform","text-decoration","letter-spacing","word-spacing","line-height","text-align","vertical-align","direction","column-count","column-gap","column-width"],background:["background-color","background-image","background-repeat","background-position","background-attachment","opacity"],box:["width","height","top","right","bottom","left","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","-moz-border-top-radius","-moz-border-right-radius","-moz-border-bottom-radius","-moz-border-left-radius","outline-top-width","outline-right-width","outline-bottom-width","outline-left-width","outline-top-color","outline-right-color","outline-bottom-color","outline-left-color","outline-top-style","outline-right-style","outline-bottom-style","outline-left-style"],layout:["position","display","visibility","z-index","overflow","overflow-x","overflow-y","overflow-clip","white-space","clip","float","clear","-moz-box-sizing"],other:["cursor","list-style-image","list-style-position","list-style-type","marker-offset","user-focus","user-select","user-modify","user-input"]};return C.reset=function(){c=null},C.parseDocument=function(a){for(var b={},c=0;c<a.styleSheets.length;c++){var d=C.parseStylesheet(a.styleSheets[c]);for(var e in d)b[e]=d[e]}return b},C.parseStylesheet=function(a){for(var b={},c=a.rules||a.cssRules,d=0;d<c.length;d++)c[d].selectorText&&(b[c[d].selectorText]=c[d]);return b},C.computed=function(a,c){var d={};if(a&&(a=b(a)[0]),!a)return d;for(var e=document.defaultView.getComputedStyle(a,null),f=0;f<e.length;f++){var g=e[f],h=g.replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()});d[h]=e.getPropertyValue(g)}return c?d[c]:d},C.findRules=function(a){var b=C(),c=[];if(a){var d=new RegExp(a);for(var e in b)b.hasOwnProperty(e)&&e.match(d)&&c.push({selector:e,css:b[e]})}return c},C.getRule=function(a){return c[a]},C.getStyle=function(a){var b=C.getRule(a);return b?b.style.cssText:g.EMPTY},C.getProperty=function(a,b){var c=C.getRule(a);return c?c.style[b]:g.EMPTY},C.copyStyles=function(b,c,e){if(b&&b.jquery&&(b=b[0]),c&&c.jquery&&(c=c[0]),b&&c){var f=C.computed(b);for(var g in d)if(!e||g==e)for(var h=0;h<d[g].length;h++){var i=d[g][h];void 0!=f[i]&&(c.style[i]=f[i],a.log("{0}: {1}",i,f[i]))}}},C},q=new function D(){function a(a){b(a).hide()}function c(a){for(var c=0;c<e.length;c++)for(var d=e[c],f=0;f<d.element.length;f++){var g=d.element.eq(f);if(g.is(":visible")){var h=d.delay,i=b.proxy(d.hide,this,g),j=g.is(a.target)||0!=g.has(a.target).length;if(!j)for(var k=0;k<d.related.length;k++){var l=b(d.related[k]);if(j=l.is(a.target)||0!=l.has(a.target).length)break}j?h&&clearTimeout(d.delayId):h?d.delayId=setTimeout(i,h):i()}}}var d={},e=[],h=!1,k={requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,cancelAnimationFrame:window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame},D=new l("selectionchange");return D.registerAutoHide=function(d){if(d){var g={element:null,delay:0,hide:a,related:[]};d.jquery?g.element=b(d):(g.element=d.element,f.isNumber(d.delay)&&(g.delay=d.delay),f.isFunction(d.hide)&&(g.hide=d.hide),f.isArray(d.related)&&(g.related=d.related)),e.push(g),h||(b(document).bind("mousedown touchstart keyup",c),h=!0)}},D.isIE=function(){return-1!=window.navigator.userAgent.indexOf("MSIE")||-1!=window.navigator.userAgent.indexOf("Trident")},D.isTouchDevice=function(){return!!navigator.userAgent.match(/\b(?:iphone|ipod|ipad|android|iemobile|blackberry|bada)\b/i)},D.mouseDownEvent=function(){return D.isTouchDevice()?"touchstart":"mousedown"},D.mouseUpEvent=function(){return D.isTouchDevice()?"touchend":"mouseup"},D.mouseMoveEvent=function(){return D.isTouchDevice()?"touchmove":"mousemove"},D.fastClickEvent=function(){return D.isTouchDevice()?"touchstart":"click"},D.uniqueID=function(a){if(a&&a.jquery&&(a=a[0]),null==a)return null;if(g.isEmpty(a.id)){for(var b=j.time();null!=d[b];)b++;d[b]=b,a.id="u"+b}return a.id},D.unselectable=function(a){for(var c=(d in{"false":!0,off:!0}),d=c?g.EMPTY:"none",e=i.fromArguments(arguments),f=0;f<e.length;f++)b(e[f]).css({"user-select":d,"-o-user-select":d,"-moz-user-select":d,"-khtml-user-select":d,"-webkit-user-select":d,"-ms-user-select":d})},D.requestAnimationFrame=function(a){return(k.requestAnimationFrame||function(){return window.setTimeout(a,1e3/60)})(a)},D.requestInterval=function(a,b){function c(){var f=(new Date).getTime(),g=f-d;g>=b&&(a.call(),d=(new Date).getTime()),e.value=D.requestAnimationFrame(c)}if(!k.requestAnimationFrame)return window.setInterval(a,b);var d=(new Date).getTime(),e={};return e.value=D.requestAnimationFrame(c),e},D.requestTimeout=function(a,b){function c(){var f=(new Date).getTime(),g=f-d;g>=b?a.call():e.value=D.requestAnimationFrame(c)}if(!k.requestAnimationFrame)return window.setTimeout(a,b);var d=(new Date).getTime(),e={};return e.value=D.requestAnimationFrame(c),e},b.fn.unselectable=function(a){return this.each(function(){D.unselectable(a)})},D},r=function(){function a(a,b){var h="log",j=arguments.length,k=1,l=j-1,m=String(arguments[l]);if((d.contains(m)||e.contains(m))&&(h=m,l=j-2),"dir"!=h&&l>=k){var n=i.fromArguments(arguments,k,l);a=g.format(a,n)}for(var o=0;o<c.length;o++){var p=c[o];f.isFunction(p[h])&&p[h](a)}}var b={},c=[],d=["log","debug","info","warn","error","group","groupCollapsed","groupEnd"],e=[];return a.trace=function(b){var c=Function.stackTrace(arguments.callee.caller);if(arguments.length>0){var d=i.fromArguments(arguments,1);a.group(b,d);for(var e=0;e<c.length;e++)a.debug(c[e]);a.groupEnd()}else a(c.toString())},a.assert=function(b,c){var d=i.fromArguments(arguments,2);b===!1&&a(c,d,"error")},a.time=function(a){return console.time?void console.time.apply(console,arguments):void(a&&(b[a]=(new Date).getTime()))},a.timeEnd=function(c){return console.timeEnd?void console.timeEnd.apply(console,arguments):void(b[c]&&a.info("{0}: {1}.ms",c,(new Date).getTime()-b[c]))},a.clear=function(){console.clear()},a.log=function(b){a(b,i.fromArguments(arguments,1),"log")},a.debug=function(b){a(b,i.fromArguments(arguments,1),"debug")},a.groupCollapsed=function(b){a(b,i.fromArguments(arguments,1),"groupCollapsed")},a.group=function(b){a(b,i.fromArguments(arguments,1),"group")},a.groupEnd=function(){a(g.EMPTY,"groupEnd")},a.info=function(b){a(b,i.fromArguments(arguments,1),"info")},a.warn=function(b){a(b,i.fromArguments(arguments,1),"warn")},a.error=function(b){a(b,i.fromArguments(arguments,1),"error")},a.dir=function(b){a(b,i.fromArguments(arguments,1),"dir")},a.register=function(a,b){if(null==a||c.contains(a)||c.push(a),b!==!0)for(var d in a)a.hasOwnProperty(d)&&f.isFunction(a[d])&&(e.contains(d)||e.push(d))},a.unregister=function(a){var b=c.indexOf(a);if(null!=a&&-1!=b){c.splice(b,1);for(var d=e.length-1;d>=0;d--){for(var g=e[d],h=!0,i=0;i<c.length;i++)if(f.isFunction(c[i][g])){h=!1;break}h&&e.splice(d,1)}}},a.register(window.console,!0),a}(),s=new function E(){function a(a,b){b=b||{},this.separator=b.separator||E.DEFAULT_SEPARATOR,this.equals=b.equals||E.DEFAULT_EQUALS,this.init(),a&&this.parse(a)}var E=function(b){var c=new a;return c.parse(f.isString(b)?b:location.href),c};return E.URL_EXPRESSION=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,E.COMPONENT_NAMES=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","hash"],E.PROTOCOL_SEPARATOR="://",E.EMPTY_HASH="!",E.DEFAULT_SEPARATOR="&",E.DEFAULT_EQUALS="=",a.prototype.init=function(){return this.components={source:g.EMPTY,protocol:g.EMPTY,authority:g.EMPTY,userInfo:g.EMPTY,user:g.EMPTY,password:g.EMPTY,host:g.EMPTY,port:g.EMPTY,relative:g.EMPTY,path:g.EMPTY,directory:g.EMPTY,file:g.EMPTY,query:g.EMPTY,hash:g.EMPTY},this.hashParam={},this.queryParam={},this},a.prototype.qualify=function(a){return a?-1!=a.indexOf("//")?a:0==a.indexOf("/")?[this.components.protocol,E.PROTOCOL_SEPARATOR,this.components.authority,a].join(g.EMPTY):[this.components.protocol,E.PROTOCOL_SEPARATOR,this.components.authority,this.components.directory,a].join(g.EMPTY):g.EMPTY},a.prototype.getHash=function(a){return E.serializeParams(this.hashParam,{prefix:a||g.EMPTY})},a.prototype.getQuery=function(a){return E.serializeParams(this.queryParam,{prefix:a||g.EMPTY})},a.prototype.getQueryParam=function(a){return this.queryParam[a]},a.prototype.getHashParam=function(a){return this.hashParam[a]},a.prototype.setQueryParam=function(a,b){return this.queryParam[a]=b,this},a.prototype.setHashParam=function(a,b){return this.hashParam[a]=b,this},a.prototype.removeQueryParam=function(a){return delete this.queryParam[a],this},a.prototype.removeHashParam=function(a){return delete this.hashParam[a],this},a.prototype.parse=function(a){if(null==a)return this;for(var b=E.URL_EXPRESSION.exec(a),c=E.COMPONENT_NAMES.length-1;c>0;c--)this.components[E.COMPONENT_NAMES[c]]=b[c]||g.EMPTY;var d=this.components.hash,e=this.components.query;return 0==d.indexOf("!")&&(d=d.substring(1)),this.hashParam=E.parseQuery(d),this.queryParam=E.parseQuery(e),this},a.prototype.toString=function(){var a=this.components.protocol?g.concat(this.components.protocol,E.PROTOCOL_SEPARATOR):g.EMPTY;return g.concat(a,this.components.authority,this.components.path,E.serializeParams(this.queryParam,{prefix:"?",encode:!0}),E.serializeParams(this.hashParam,{prefix:"#",encode:!1}))},E.combine=function(a,b){for(var c=g.concat(a,"/",b);c.match(/[^\/]+\/\.\.\//);)c=c.replace(/[^\/]+\/\.\.\//,"");return c.replace(/\/{2,}/g,"/")},E.getQueryParam=function(a,b){return E().getQueryParam(a)||b},E.getHashParam=function(a,b){return E().getHashParam(a)||b},E.getHash=function(){return String(location.hash).substring(1)},E.getQuery=function(){return String(location.search).substring(1)},E.setHashParam=function(){var a=E(location.href);if(2==arguments.length)a.setHashParam(arguments[0],arguments[1]);else{if(1!=arguments.length)return;if(f.isObject(arguments[0]))for(var b in arguments[0])arguments[0].hasOwnProperty(b)&&a.setHashParam(b,arguments[0][b]);else a.setHashParam(arguments[0],g.EMPTY)}E.setHash(a.getHash());
},E.setHash=function(a){a==g.EMPTY&&(a=E.EMPTY_HASH),window.location.hash=a},E.removeHashParam=function(a){var b=E(location);b.removeHashParam(a),E.setHash(b.getHash())},E.getFileExtension=function(a){var b=a?a.lastIndexOf("."):-1;return b>-1?a.slice(b+1):""},E.getFileName=function(a){return String(a).match(/[^\\\/]*$/)[0]},E.parseQuery=function(a,c){if(!a)return{};for(var d=b.extend({separator:E.DEFAULT_SEPARATOR,equals:E.DEFAULT_EQUALS},c||{}),e=String(a).split(d.separator),h={},i=0;i<e.length;i++)if(0!=e[i].length){var j=e[i].split(d.equals),k=j[0],l=j[1]||g.EMPTY;null!=h[k]?(f.isArray(h[k])||(h[k]=[h[k]]),h[k].push(l)):h[k]=l}return h},E.serializeParams=function(a,c){if(null==a)return null;var d=b.extend({separator:E.DEFAULT_SEPARATOR,equals:E.DEFAULT_EQUALS,encode:!1},c||{}),e=[];for(var f in a)if(a.hasOwnProperty(f)){var h=d.encode?encodeURIComponent(f):f,i=d.encode?encodeURIComponent(a[f]||g.EMPTY):a[f];i?e.push(h+d.equals+i):e.push(h)}var j=e.join(d.separator);return d.prefix&&j.length?g.concat(d.prefix,j):j},E.qualify=function(a){var c=b("base[href]").attr("href")||document.location.href;return E(c).qualify(a)},E},s=new function F(){function a(a,b){b=b||{},this.separator=b.separator||F.DEFAULT_SEPARATOR,this.equals=b.equals||F.DEFAULT_EQUALS,this.init(),a&&this.parse(a)}var F=function(b){var c=new a;return c.parse(f.isString(b)?b:location.href),c};return F.URL_EXPRESSION=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,F.COMPONENT_NAMES=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","hash"],F.PROTOCOL_SEPARATOR="://",F.EMPTY_HASH="!",F.DEFAULT_SEPARATOR="&",F.DEFAULT_EQUALS="=",a.prototype.init=function(){return this.components={source:g.EMPTY,protocol:g.EMPTY,authority:g.EMPTY,userInfo:g.EMPTY,user:g.EMPTY,password:g.EMPTY,host:g.EMPTY,port:g.EMPTY,relative:g.EMPTY,path:g.EMPTY,directory:g.EMPTY,file:g.EMPTY,query:g.EMPTY,hash:g.EMPTY},this.hashParam={},this.queryParam={},this},a.prototype.qualify=function(a){return a?-1!=a.indexOf("//")?a:0==a.indexOf("/")?[this.components.protocol,F.PROTOCOL_SEPARATOR,this.components.authority,a].join(g.EMPTY):[this.components.protocol,F.PROTOCOL_SEPARATOR,this.components.authority,this.components.directory,a].join(g.EMPTY):g.EMPTY},a.prototype.getHash=function(a){return F.serializeParams(this.hashParam,{prefix:a||g.EMPTY})},a.prototype.getQuery=function(a){return F.serializeParams(this.queryParam,{prefix:a||g.EMPTY})},a.prototype.getQueryParam=function(a){return this.queryParam[a]},a.prototype.getHashParam=function(a){return this.hashParam[a]},a.prototype.setQueryParam=function(a,b){return this.queryParam[a]=b,this},a.prototype.setHashParam=function(a,b){return this.hashParam[a]=b,this},a.prototype.removeQueryParam=function(a){return delete this.queryParam[a],this},a.prototype.removeHashParam=function(a){return delete this.hashParam[a],this},a.prototype.parse=function(a){if(null==a)return this;for(var b=F.URL_EXPRESSION.exec(a),c=F.COMPONENT_NAMES.length-1;c>0;c--)this.components[F.COMPONENT_NAMES[c]]=b[c]||g.EMPTY;var d=this.components.hash,e=this.components.query;return 0==d.indexOf("!")&&(d=d.substring(1)),this.hashParam=F.parseQuery(d),this.queryParam=F.parseQuery(e),this},a.prototype.toString=function(){var a=this.components.protocol?g.concat(this.components.protocol,F.PROTOCOL_SEPARATOR):g.EMPTY;return g.concat(a,this.components.authority,this.components.path,F.serializeParams(this.queryParam,{prefix:"?",encode:!0}),F.serializeParams(this.hashParam,{prefix:"#",encode:!1}))},F.combine=function(a,b){for(var c=g.concat(a,"/",b);c.match(/[^\/]+\/\.\.\//);)c=c.replace(/[^\/]+\/\.\.\//,"");return c.replace(/\/{2,}/g,"/")},F.getQueryParam=function(a,b){return F().getQueryParam(a)||b},F.getHashParam=function(a,b){return F().getHashParam(a)||b},F.getHash=function(){return String(location.hash).substring(1)},F.getQuery=function(){return String(location.search).substring(1)},F.setHashParam=function(){var a=F(location.href);if(2==arguments.length)a.setHashParam(arguments[0],arguments[1]);else{if(1!=arguments.length)return;if(f.isObject(arguments[0]))for(var b in arguments[0])arguments[0].hasOwnProperty(b)&&a.setHashParam(b,arguments[0][b]);else a.setHashParam(arguments[0],g.EMPTY)}F.setHash(a.getHash())},F.setHash=function(a){a==g.EMPTY&&(a=F.EMPTY_HASH),window.location.hash=a},F.removeHashParam=function(a){var b=F(location);b.removeHashParam(a),F.setHash(b.getHash())},F.getFileExtension=function(a){var b=a?a.lastIndexOf("."):-1;return b>-1?a.slice(b+1):""},F.getFileName=function(a){return String(a).match(/[^\\\/]*$/)[0]},F.parseQuery=function(a,c){if(!a)return{};for(var d=b.extend({separator:F.DEFAULT_SEPARATOR,equals:F.DEFAULT_EQUALS},c||{}),e=String(a).split(d.separator),h={},i=0;i<e.length;i++)if(0!=e[i].length){var j=e[i].split(d.equals),k=j[0],l=j[1]||g.EMPTY;null!=h[k]?(f.isArray(h[k])||(h[k]=[h[k]]),h[k].push(l)):h[k]=l}return h},F.serializeParams=function(a,c){if(null==a)return null;var d=b.extend({separator:F.DEFAULT_SEPARATOR,equals:F.DEFAULT_EQUALS,encode:!1},c||{}),e=[];for(var f in a)if(a.hasOwnProperty(f)){var h=d.encode?encodeURIComponent(f):f,i=d.encode?encodeURIComponent(a[f]||g.EMPTY):a[f];i?e.push(h+d.equals+i):e.push(h)}var j=e.join(d.separator);return d.prefix&&j.length?g.concat(d.prefix,j):j},F.qualify=function(a){var c=b("base[href]").attr("href")||document.location.href;return F(c).qualify(a)},F},t=new function G(){function a(a,c,d,e,f,g){var h=a+"="+encodeURIComponent(c);return d&&(h+="; expires="+j(d).toGMTString()),e&&(h+="; domain="+e),f&&(h+="; path="+f),g&&(h+="; secure=true"),document.cookie=h,b(a)}function b(a){for(var b=document.cookie.split("; "),c=0;c<b.length;c++){var d=b[c].substring(0,b[c].indexOf("=")),e=b[c].substring(b[c].indexOf("=")+1,b[c].length);if(d==a){if(-1!=e.indexOf("&")){for(var f=e.split("&"),g={},h=0;h<f.length;h++){var i=f[h].split("=");g[i[0]]=i[1]}return g}return decodeURIComponent(e)}}return null}function c(a){var b=a?a+"=null;":"null;";document.cookie=b+"expires="+(new Date).toGMTString()}function G(){return 0==arguments.length?String(document.cookie):1==arguments.length?Cookie.get.apply(this,arguments):a.apply(this,arguments)}return G.get=b,G.set=a,G.remove=c,G},u=l.extend(function(c){function d(){i+=1,g.fire("setup",{total:h.length,current:i}),i==h.length&&e()}function e(){g.fire("done"),f.isFunction(c)&&c()}this.construct("setup","done");var g=this,h=[],i=0;this.register=function(c,d){return r.assert(f.isObject(c),"Argument 'module' is required"),r.assert(f.isFunction(c.setup),"The 'module' argument must have a 'setup' method"),h.push({setup:b.proxy(c.setup,c),dispose:b.proxy(c.dispose,c),async:d||!1}),r.info("Registered module {0}",f.isFunction(c)?a.func.getName(c):a.func.getName(c.constructor)),c},this.setup=function(){if(0==h.length)e();else{i=0;for(var a=0;a<h.length;a++){var b=h[a];b.async?b.setup(d):(b.setup(),d())}}},this.dispose=function(){for(var a=0;a<h.length;a++){var b=h[a];b.dispose&&b.dispose()}}}),v=function H(){function a(a){var b={name:"XML Parse Error",error:!1,data:{line:1,column:0}};if(q.isIE())0!=a.parseError&&(b.error=!0,b.message=a.parseError.reason,a.parseError.line&&(b.data.line=a.parseError.line),a.parseError.column&&(b.data.column=a.parseError.column));else{var c=a.getElementsByTagNameNS(e,"parsererror")[0];if(null!=c){var d=H.text(c).replace(/line(?: number)? (\d+)(?:,)?(?: at)? column (\d+):/i,function(a,c,d){return b.line=parseInt(c),b.column=parseInt(d),a+"\n"});b.error=!0,b.message=d}}if(1==b.error)throw error(b)}function c(){if(null==d){d=new DOMParser;try{e=d.parseFromString("INVALID XML","text/xml").getElementsByTagName("*")[0].namespaceURI}catch(a){h=!0}}return d}var d,e,h=!1,i=document.implementation,j=null!=window.XMLSerializer,k="http://www.w3.org/1999/xhtml",l=5,m={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},H=function n(a){return f.isNode(a)?a:f.isString(a)&&0==a.trim().indexOf("<")?n.document(a):null};return H.text=function(a,b,c){for(var d=g.EMPTY,e=null,h={},i=0;3>i&&!(arguments.length<i+1);i++){var j=arguments[i];f.isNode(j)?e=j:f.isString(j)?d=j:f.isObject(j)&&(h=j)}var k=[];if(d==g.EMPTY&&null==e)return null;k=d==g.EMPTY&&null!=e?[e]:H.select(d,e||document,h);var l=[];for(i=0;i<k.length;i++){var n=k[i];switch(n.nodeType==m.DOCUMENT&&(n=n.documentElement),n.nodeType){case m.TEXT:case m.COMMENT:l.push(n.nodeValue);break;default:null!=n.value?l.push(n.value):null!=n.textContent?l.push(n.textContent):null!=n.text?l.push(n.text):l.push(n.innerText)}}return l.join(g.EMPTY)},H.toXml=function(a){return f.isString(a)&&(a=H.select(a)[0]),q.isIE()?a.xml:a==document||a.ownerDocument==document?H.serialize(a):(new XMLSerializer).serializeToString(Node(a))},H.serialize=function(a){if(null==a||null==a.nodeType)return g.EMPTY;if(a.nodeType==m.DOCUMENT)return H.serialize(a.documentElement);var b=[],c=!1;if(a.nodeType==m.ELEMENT){var d=a.nodeName;a.namespaceURI==k&&(d=d.toLowerCase(),c=!0),b.push("<"),b.push(d);for(var e=0;e<a.attributes.length;e++){var f=a.attributes[e].name,h=a.getAttribute(f);"xmlns"==f&&c||(b.push(" "),b.push(a.attributes[e].name),b.push('="'),b.push(H.escape(h,!0)),b.push('"'))}if(0==a.childNodes.length)b.push("/>");else{for(b.push(">"),e=0;e<a.childNodes.length;e++){var i=a.childNodes[e];i.nodeType==m.ELEMENT&&b.push(H.serialize(i)),i.nodeType==m.COMMENT&&(b.push("<!--"),b.push(H.text(i)),b.push("-->")),i.nodeType==m.CDATA_SECTION&&(b.push("<![CDATA["),b.push(H.text(i)),b.push("]]>")),i.nodeType==m.TEXT&&b.push(H.escape(H.text(i)))}b.push("</"),b.push(d),b.push(">")}}return b.join(g.EMPTY)},H.toObject=function(a){if(null==a||null==a.nodeType)return null;var b={};if(a.nodeType==m.DOCUMENT){var c=a.documentElement.nodeName;b[c]=H.toObject(a.documentElement)}else if(a.nodeType==m.ELEMENT){for(var d=0;d<a.attributes.length;d++)b[a.attributes[d].name]=a.getAttribute(a.attributes[d].name);for(d=0;d<a.childNodes.length;d++){var e=a.childNodes[d];if(e.nodeType==m.ELEMENT){var h=H.toObject(e);null!=b[e.nodeName]?(f.isArray(b[e.nodeName])||(b[e.nodeName]=[b[e.nodeName]]),b[e.nodeName].push(h)):b[e.nodeName]=h}e.nodeType==m.TEXT&&e.nodeValue.trim()!=g.EMPTY&&(b.$text=e.nodeValue)}}return b},H.resolver=function(a){return r.assert(f.isObject(a),"Argument 'namespaces' should be an object"),function(b){return a[b]}},H.select=function(a,b,c){2==arguments.length&&f.isString(arguments[1])&&(a=arguments[0],c=arguments[1]),f.isNode(b)||(b=document);var d=b.nodeType==m.DOCUMENT?b:b.ownerDocument;if(q.isIE()){var e=[];for(var g in c)c.hasOwnProperty(g)&&e.push('xmlns:{0}="{1}"'.format(g,c[g]));return d.setProperty("SelectionNamespaces",e.join(" ")),b.selectNodes(a)}for(var h=c?H.resolver(c):null,i=d.evaluate(a,b,h,l,null),j=i.iterateNext(),k=[];j;)k.push(j),j=i.iterateNext();return k},H.load=function(a,c,d){return r.assert(f.isString(a),"Argument 'url' is required"),b.ajax(a,{complete:function(a){var b;try{b=H.document(a.responseText),f.isFunction(c)&&c(b)}catch(e){if(!f.isFunction(d))throw e;d(e)}},error:function(a,b,c){f.isFunction(d)&&d(c)}})},H.document=function(b){f.isDocument(b)&&(b=H.serialize(b));var d=null;return q.isIE()?(d=new ActiveXObject("MSXML2.DomDocument"),b&&(d.loadXML(b),a(d))):j&&(f.isString(b)?(d=c().parseFromString(b,"text/xml"),h||a(d)):d=i.createDocument(g.EMPTY,g.EMPTY,null)),d},H.processor=function(a){if(a=H(a),null==a)return null;var b=null;if(q.isIE()){var c=H.document(a.xml),d=new ActiveXObject("MSXML2.XslTemplate");d.stylesheet=c,b=d.createProcessor()}else b=new XSLTProcessor,b.importStylesheet(a);return b},H.transform=function(a,b){r.assert(f.isDocument(a),"Argument 'document' should be a document."),r.assert(!f.isNull(b),"Argument 'xslProcessor' is required");var c=null;return q.isIE()?(c=H.document(),b.input=a,b.output=c,b.transform()):c=b.transformToDocument(a),c},H.escape=function(a,b){var c=String(a).replace(/&(?!amp;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return b&&(c=c.replace(/\"/g,"&quot;")),c},H.nodeType=m,H}(),w=new function(){this.Key={TAB:9,CONTROL:17,SHIFT:16,ALT:18,ENTER:13,UP:38,DOWN:40,LEFT:37,RIGHT:39,DELETE:46,BACKSPACE:8,ESCAPE:27}},x=new function(){function c(a){return a||window.event}var d,e=!0;return c.x=function(a){a=a.originalEvent||a;var b=0;return f.isNumber(a.pageX)?b=a.pageX:f.isNumber(a.clientX)&&(b=a.clientX),a.touches&&a.touches.length&&(b=a.touches[0].clientX),b},c.y=function(a){a=a.originalEvent||a;var b=0;return f.isNumber(a.pageY)?b=a.pageY:f.isNumber(a.clientY)&&(b=a.clientY),a.touches&&a.touches.length&&(b=a.touches[0].clientY),b},c.capture=function(a,b,c){a.addEventListener(b,c,!0)},c.release=function(a,b,c){a.removeEventListener(b,c,!0)},c.getNormalizedWheelDelta=function(a,b){b=b.originalEvent||b;var c={delta:0,deltaX:0,deltaY:0},f=0;if("detail"in b&&(c.deltaY=-1*b.detail),"wheelDelta"in b&&(c.deltaY=b.wheelDelta),"wheelDeltaY"in b&&(c.deltaY=b.wheelDeltaY),"wheelDeltaX"in b&&(c.deltaX=-1*b.wheelDeltaX),"axis"in b&&b.axis===b.HORIZONTAL_AXIS&&(c.deltaX=-1*c.deltaY,c.deltaY=0),c.delta=0===c.deltaY?c.deltaX:c.deltaY,"deltaY"in b&&(c.deltaY=-1*b.deltaY,c.delta=c.deltaY),"deltaX"in b&&(c.deltaX=b.deltaX,0===c.deltaY&&(c.delta=-1*c.deltaX)),0===c.deltaY&&0===c.deltaX)return c;if(1===b.deltaMode){var g=parseInt(a.css("line-height"));c.delta*=g,c.deltaY*=g,c.deltaX*=g}else if(2===b.deltaMode){var h=a.height();c.delta*=h,c.deltaY*=h,c.deltaX*=h}var i=e&&"mousewheel"===b.type&&f%120===0;return f=Math.max(Math.abs(c.deltaY),Math.abs(c.deltaX)),(!d||d>f)&&(d=f,i&&(d/=40)),i&&(c.delta/=40,c.deltaX/=40,c.deltaY/=40),c.delta=Math[c.delta>=1?"floor":"ceil"](c.delta/d),c.deltaX=Math[c.deltaX>=1?"floor":"ceil"](c.deltaX/d),c.deltaY=Math[c.deltaY>=1?"floor":"ceil"](c.deltaY/d),c},b.fn.wheelDelta=function(a){return c.getNormalizedWheelDelta(this,a)},b.fn.capture=function(a,b){if(!f.isString(a)||!f.isFunction(b))return this;var d=a.split(/(?:\s+)|,/);return this.each(function(a,e){for(var f=0;f<d.length;f++)c.capture(e,d[f],b)}),this},b.fn.release=function(a,b){if(!f.isString(a)||!f.isFunction(b))return this;var d=a.split(/(?:\s+)|,/);return this.each(function(a,e){for(var f=0;f<d.length;f++)c.release(e,d[f],b)}),this},c.isMouseInRange=function(c,d){if(!a.drag.active){var e=b(d);if(0==e.width()||0==e.height())return!1;var f=e.offset(),g=c.clientX+b(document).scrollLeft(),h=c.clientY+b(document).scrollTop();return g>=f.left&&g<=f.left+e.width()&&h>=f.top&&h<=f.top+e.height()}},c.cancel=function(a){return!1},c.preventDefault=function(a){var a=c(a);return null!=a&&a.preventDefault&&a.preventDefault(),!1},c.stopPropagation=function(a){var a=c(a);null!=a&&(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation())},c.neutralize=function(a){var a=c(a);return null!=a&&(a.cancelBubble=!0,a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()),!1},c.create=function(a,b,d){return new c.Event(a,b,d)},c.Event=function(a,b,c){this.source=a,this.type=b,this.name=b,this.cancel=!1,this.data={};for(var d in c)c.hasOwnProperty(d)&&(this.data[d]=c[d])},c.transitionEnd="transitionend webkitTransitionEnd",c},y=o.extend(function(a,c){this.construct(a),this.handler=c,this.eventHandler=b.proxy(this.handleEvent,this),this.$element.on("touchstart click",this.eventHandler)});y.coordinates=[],y.preventGhostClick=function(a,b){y.coordinates.push(a,b),window.setTimeout(y.pop,2500)},y.pop=function(){y.coordinates.splice(0,2)},y.onDocumentClick=function(a){for(var b=0;b<y.coordinates.length;b+=2){var c=y.coordinates[b],d=y.coordinates[b+1];Math.abs(a.clientX-c)<25&&Math.abs(a.clientY-d)<25&&(a.stopPropagation(),a.preventDefault())}},y.prototype.handleEvent=function(a){switch(a.type){case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchend":this.onClick(a);break;case"click":this.onClick(a)}},y.prototype.reset=function(){this.$element.off("touchend",this.eventHandler),b(document).off("touchmove",this.eventHandler)},y.prototype.onTouchStart=function(a){var c=a.originalEvent||a;c.stopPropagation(),this.$element.on("touchend",this.eventHandler),b(document).on("touchmove",this.eventHandler),this.startX=c.touches[0].clientX,this.startY=c.touches[0].clientY},y.prototype.onTouchMove=function(a){var b=a.originalEvent||a;(Math.abs(b.touches[0].clientX-this.startX)>10||Math.abs(b.touches[0].clientY-this.startY)>10)&&this.reset()},y.prototype.onClick=function(a){a.stopPropagation(),this.reset(),this.handler(a),"touchend"==a.type&&y.preventGhostClick(this.startX,this.startY)},document.addEventListener("click",y.onDocumentClick,!0),b.fastclick=function(a,c){b(a).fastclick(c)},b.fn.fastclick=function(){var a=arguments[0];return this.each(function(){var c=b(this);c.data("fastclick")||c.data("fastclick",new y(c,a))}),this};var z=function(){function c(a){var b=x.x(a),c=x.y(a),d=b-h,f=c-i,g=Math.max(Math.min(n.maxX,k+d),n.minX),j=Math.max(Math.min(n.maxY,m+f),n.minY);if(s.__listeners.beforemove.length){var l=x.create(s,"beforemove");l.target=o[0],n.moveX&&(l.data.targetX=g),n.moveY&&(l.data.targetY=j),s.fire(l),g=l.data.targetX,j=l.data.targetY}var p=o.position();n.moveX&&o.css("left",g),n.moveY&&o.css("top",j);var q=o.position();return q.left==p.left&&q.top==p.top||(l=x.create(s,"move",q),l.target=o[0],s.fire(l)),n.accelX=q.left-p.left,n.accelY=q.top-p.top,e(),x.cancel(a)}function d(){var a=b("iframe");a.length>0&&(f(),a.each(function(a,b){if(b.offsetHeight>0){var c=document.createElement("div");c.iframe=b,c.style.cssText=p,c.className=q,document.body.appendChild(c),r.push(c)}}),e())}function e(){for(var a=r.length-1;a>=0;a--){var c=r[a],d=b(c.iframe).offset();c.style.left=d.left+"px",c.style.top=d.top+"px",c.style.width=c.iframe.offsetWidth+"px",c.style.height=c.iframe.offsetHeight+"px"}}function f(){for(var a=r.length-1;a>=0;a--)r[a].parentNode.removeChild(r[a]),r.pop()}function g(c){var d=b(this),e=d.data("options"),f=e.target;a.drag.start(c,f,e)}var h,i,k,m,n={},o=null,p="position: absolute; background: #fff; opacity: .01; z-index:10000;",q="drag-overlay-"+j.time(),r=[],s=new l("start","beforemove","move","stop");return s.active=!1,s.start=function(a,e,f){var g=a||window.event;if(null==g)return!0;if(g.originalEvent&&(g=g.originalEvent),o=b(e),0==o.length)return!0;if(null==f&&(f={}),n.moveX=f.moveX!==!1,n.moveY=f.moveY!==!1,n.accelX=0,n.accelY=0,!n.moveX&&!n.moveY)return!0;n.minX=isNaN(f.minX)?Number.NEGATIVE_INFINITY:f.minX,n.maxX=isNaN(f.maxX)?Number.POSITIVE_INFINITY:f.maxX,n.minY=isNaN(f.minY)?Number.NEGATIVE_INFINITY:f.minY,n.maxY=isNaN(f.maxY)?Number.POSITIVE_INFINITY:f.maxY,h=x.x(a),i=x.y(a);var j=o.position(),l=o.offset();return k=isNaN(j.left)?l.left:j.left,m=isNaN(j.top)?l.top:j.top,b(document).capture("mouseup touchend",s.stop),b(document).capture("mousemove touchmove",c),d(),s.active=!0,s.fire("start"),x.cancel(a)},s.stop=function t(a){var b=x.create(s,"stop",{specs:n});b.target=o[0],b.originalEvent=a,s.active=!1,s.fire(b),document.removeEventListener("mousemove",c,!0),document.removeEventListener("touchmove",c,!0),document.removeEventListener("mouseup",t,!0),document.removeEventListener("touchend",t,!0),f(),o=null},b.fn.draggable=function(a){return this.each(function(c,d){var e=b.extend({target:d},a),f=b(d),h=f.find(".handle");0==h.length&&(h=f),h.on("mousedown",g).data("options",e)}),this},s}(),A=new function(){this.easeNone=function(a,b,c,d){return c*a/d+b},this.easeIn=function(a,b,c,d){return c*a/d+b},this.easeOut=function(a,b,c,d){return c*a/d+b},this.easeInOut=function(a,b,c,d){return c*a/d+b},this.easeInQuad=function(a,b,c,d){return c*(a/=d)*a+b},this.easeOutQuad=function(a,b,c,d){return-c*(a/=d)*(a-2)+b},this.easeInOutQuad=function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},this.easeInCubic=function(a,b,c,d){return c*(a/=d)*a*a+b},this.easeOutCubic=function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},this.easeInOutCubic=function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},this.easeInQuart=function(a,b,c,d){return c*(a/=d)*a*a*a+b},this.easeOutQuart=function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},this.easeInOutQuart=function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},this.easeInQuint=function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},this.easeOutQuint=function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},this.easeInOutQuint=function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},this.easeInExpo=function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b},this.easeOutExpo=function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},this.easeInOutExpo=function(a,b,c,d){return 0==a?b:a==d?b+c:(a/=d/2)<1?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},this.easeInSine=function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},this.easeOutSine=function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},this.easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},this.easeInCirc=function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},this.easeOutCirc=function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},this.easeInOutCirc=function(a,b,c,d){return(a/=d/2)<1?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},this.easeInBack=function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*(a/=d)*a*((e+1)*a-e)+b},this.easeOutBack=function(a,b,c,d,e){return void 0==e&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},this.easeInOutBack=function(a,b,c,d,e){return void 0==e&&(e=1.70158),(a/=d/2)<1?c/2*(a*a*(((e*=1.525)+1)*a-e))+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b},this.easeInElastic=function(a,b,c,d,e,f){if(0==a)return b;if(1==(a/=d))return b+c;if(f||(f=.3*d),!e||e<Math.abs(c)){e=c;var g=f/4}else var g=f/(2*Math.PI)*Math.asin(c/e);return-(e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*(2*Math.PI)/f))+b},this.easeOutElastic=function(a,b,c,d,e,f){if(0==a)return b;if(1==(a/=d))return b+c;if(f||(f=.3*d),!e||e<Math.abs(c)){e=c;var g=f/4}else var g=f/(2*Math.PI)*Math.asin(c/e);return e*Math.pow(2,-10*a)*Math.sin((a*d-g)*(2*Math.PI)/f)+c+b},this.easeInOutElastic=function(a,b,c,d,e,f){if(0==a)return b;if(2==(a/=d/2))return b+c;if(f||(f=d*(.3*1.5)),!e||e<Math.abs(c)){e=c;var g=f/4}else var g=f/(2*Math.PI)*Math.asin(c/e);return 1>a?-.5*(e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*(2*Math.PI)/f))+b:e*Math.pow(2,-10*(a-=1))*Math.sin((a*d-g)*(2*Math.PI)/f)*.5+c+b},this.easeInBounce=function(a,b,c,d){return(a/=d)<1/2.75?c*(7.5625*a*a)+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},this.easeOutBounce=function(a,b,c,d){return c-this.easeOut(d-a,0,c,d)+b},this.easeInOutBounce=function(a,b,c,d){return d/2>a?.5*this.easeIn(2*a,0,c,d)+b:.5*this.easeOut(2*a-d,0,c,d)+.5*c+b},this.sineLinear=function(a,b,c,d,e,f){d/=1e3,a=1e3-a;var g=e*Math.sin(d*a);return r("Y: {0} * Math.sin(({1} * {2})) = {3}",e,d,a,g),g};var a={};for(var b in this)this.hasOwnProperty(b)&&f.isFunction(this[b])&&(a[b]=function(){var a=arguments.callee.fx;return a.apply(this,i.fromArguments(arguments,1))},a[b].fx=this[b]);a.def="easeOutQuad",a.swing=function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},jQuery.extend(jQuery.easing,a)};new function I(){function a(a){function b(){d.effect.init&&d.effect.init(c,d),c.fireEvent("start"),c.animating=!0,i(k(e,c))}var c=this,d=this.__transition;if(d.effect=I.Transitions[d.effect]||I.Transitions.horizontalOpen,d.easingFx=A[d.easing]||A.easeOutQuad,d.from=this.cloneCurrent(),d.to instanceof Image)b();else{var f=d.to;d.to=new Image,d.to.onload=b,d.to.src=f}}function d(a){function b(){c.$image2.attr("src",a.to.src),c.$image2.css({opacity:0,display:"block"}),c.$image2.animate({opacity:1}),c.$element.animate({opacity:0},{duration:a.duration,easing:a.easing,progress:function b(a,b,d){c.fireEvent("progress",{progress:b})},complete:function(){var a=c.$image2,b=c.$element;c.$element.hide().addClass("image2"),c.$image2.removeClass("image2"),c.$element=a,c.$image2=b,c.fireEvent("done")}}),c.fireEvent("start")}var c=this;a.to instanceof Image?b():(a.to=new Image,a.to.onload=b,a.to.src=src)}function e(){var a=j.time(),b=this.__transition,c=b.easingFx(a-b.start,0,1,b.duration);return a>=b.end?(this.clear(),this.fireEvent("done"),this.animating=!1,this.drawImage(b.to)):(b.effect.render(this,b,c),this.fireEvent("progress",{progress:c}),i(k(e,this)),void 0)}function g(){var a=document.createElement("canvas");return!(null==a||null==a.getContext||null==a.getContext("2d"))}function I(a){return new h(a)}var h=o.extend(function(a){this.construct(a,"start","progress","done");var c=g();if(c){var d=this.$element.prop("tagName");if("CANVAS"==d)this.canvas=this.$element[0];else{var e=this.$element.parent().find("canvas")[0];if(null==e&&(e=document.createElement("canvas"),e.width=this.$element.width(),e.height=this.$element.height(),this.$element.parent().append(e)),"IMG"==d){var f=new Image;f.onload=function(){0!=e.width&&0!=e.height||(e.width=f.width,e.height=f.height);var a=e.getContext("2d");a.drawImage(f,0,0,e.width,e.height)},f.src=this.$element.prop("src")}this.canvas=e,this.context=e.getContext("2d"),this.$element.hide()}}else{this.$image2=b("<img/>");for(var h=0;h<this.$element[0].attributes.length;h++){var i=this.$element[0].attributes[h];this.$image2.attr(i.name,i.value)}this.$image2.hide(),this.$image2.addClass("image2"),this.$element.parent().append(this.$image2)}});h.prototype.drawImage=function(a){return this.clear(),this.context.drawImage(a,0,0,this.canvas.width,this.canvas.width*a.height/a.width)},h.prototype.cloneCurrent=function(){var a=document.createElement("canvas");return a.width=this.canvas.width,a.height=this.canvas.height,a.getContext("2d").drawImage(this.canvas,0,0,a.width,a.height),a},h.prototype.clear=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},h.prototype.transition=function(c){var e=this.__transition=b.extend(I.transitionDefaults,c);e.start&&this.on("start",e.start),e.progress&&this.on("progress",e.progress),e.done&&this.on("done",e.done),e.start=j.time(),e.end=e.start+e.duration,null!=this.canvas?a.call(this,c):d.call(this,c)};var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){window.setTimeout(a,1e3/60)},k=function(a,b){return function(){return a.apply(b,arguments)}};I.getData=function(a){var b=document.createElement("canvas");b.width=a.width,b.height=a.height;var c=b.getContext("2d");c.drawImage(a,0,0,b.width,b.height);var d=c.getImageData(0,0,b.width,b.height);return b=null,c=null,d},I.transitionDefaults={duration:1e3,transition:"horizontalOpen",easing:"easeOutExpo"};var l=new function(){var a=c.extend(function(a){a&&f.isFunction(a.init)&&(this.init=a.init),a&&f.isFunction(a.render)&&(this.render=a.render)});a.prototype.init=function(a,c){this.options=b.extend({},c.options)},a.prototype.render=function(a,b,c){};var d=c.extend(function(a){this.clipFunction=a});d.prototype.render=function(a,b,c){var d=a.canvas,e=a.canvas.getContext("2d");a.drawImage(b.from),e.save(),e.beginPath(),this.clipFunction(e,d.width,d.height,c),e.clip(),a.drawImage(b.to),e.restore()},this.clock=new d(function(a,b,c,d){return a.moveTo(b/2,c/2),a.arc(b/2,c/2,Math.max(b,c),0,2*Math.PI*d,!1)}),this.circle=new d(function(a,b,c,d){return a.arc(b/2,c/2,.6*d*Math.max(b,c),0,2*Math.PI,!1)}),this.diamond=new d(function(a,b,c,d){var e,f,g,h;return h=b/2,g=c/2,e=d*c,f=d*b,a.moveTo(h,g-e),a.lineTo(h+f,g),a.lineTo(h,g+e),a.lineTo(h-f,g)}),this.verticalOpen=new d(function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p;for(h=8,j=c/(2*h),m=j,i=d*b/2,n=b/2-i,o=b/2+i,k=n-m,l=o+m,a.moveTo(n,0),g=0;h>=0?h>=g:g>=h;h>=0?g++:g--)e=2*g*j,f=e+j,a.lineTo(k,e),a.lineTo(n,f);for(a.lineTo(l,c),p=[],g=h;0>=h?0>=g:g>=0;0>=h?g++:g--)e=2*g*j,f=e-j,a.lineTo(o,e),p.push(a.lineTo(l,f));return p}),this.horizontalOpen=new d(function(a,b,c,d){return context.rect(0,(1-progress)*height/2,width,height*progress)}),this.horizontalSunblind=new d(function(a,b,c,d){var e,f,g,h;for(d=1-(1-d)*(1-d),g=6,f=c/g,h=[],e=0;g>=0?g>=e:e>=g;g>=0?e++:e--)h.push(a.rect(0,f*e,b,f*d));return h}),this.verticalSunblind=new d(function(a,b,c,d){var e,f,g,h,i;for(d=1-(1-d)*(1-d),g=10,f=b/g,i=[],e=0;g>=0?g>=e:e>=g;g>=0?e++:e--)h=Math.max(0,Math.min(2*d-(e+1)/g,1)),i.push(a.rect(f*e,0,f*h,c));return i}),this.circles=new d(function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p;for(h=6,g=Math.floor(h*b/c),f=b/g,e=c/h,l=Math.max(b,c),k=.7*Math.max(f,e),p=[],n=0;g>=0?g>=n:n>=g;g>=0?n++:n--)p.push(function(){var c;for(c=[],o=0;h>=0?h>=o:o>=h;h>=0?o++:o--)i=(n+.5)*f,j=(o+.5)*e,m=Math.max(0,Math.min(2*d-i/b,1))*k,a.moveTo(i,j),c.push(a.arc(i,j,m,0,2*Math.PI,!1));return c}());return p}),this.squares=new d(function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p;for(d=1-(1-d)*(1-d),h=5,g=Math.floor(h*b/c),f=b/g,e=c/h,p=[],n=0;g>=0?g>=n:n>=g;g>=0?n++:n--)p.push(function(){var g;for(g=[],o=0;h>=0?h>=o:o>=h;h>=0?o++:o--)l=f*n,m=e*o,i=Math.max(0,Math.min(3*d-l/b-m/c,1)),k=f*i,j=e*i,g.push(a.rect(l-k/2,m-j/2,k,j));return g}());return p}),this.fadeLeft=new a({init:function(a,c){this.options=b.extend({direction:"right"},c.options),c.randomTrait=[],c.fromData=I.getData(c.from),c.toData=I.getData(c.to),c.output=a.context.createImageData(a.canvas.width,a.canvas.height);for(var d=a.canvas.height,e=0;d>=0?d>=e:e>=d;d>=0?e++:e--)c.randomTrait[e]=Math.random()},render:function(a,b,c,d){for(var e=150,f=(a.canvas.height,a.canvas.width),g=b.fromData.data,h=b.toData.data,i=b.output.data,j=f*c/e,k=0;f>k;++k)for(var l=k/e,m=0;m<a.canvas.height;++m){for(var n=4*(m*f+k),o=Math.min(Math.max(l-j*(1+b.randomTrait[m]/10),0),1),p=1-o,q=0;3>q;++q){var r=n+q;i[r]=o*g[r]+p*h[r]}i[n+3]=255}return a.context.putImageData(b.output,0,0)}})};return I.Transitions=l,I.load=function(a){var c=new Image;return b.Deferred(function(b){c.onload=function(){b.resolve(c)},c.onerror=function(){b.fail(c)},c.src=a}).promise()},I};return a.Prototype=c,a.Property=d,a.Dispatcher=l,a.Settings=e,a.Initializer=u,a.HtmlControl=o,a.type=f,a.string=g,a.func=k,a.array=i,a.date=j,a.log=r,a.css=p,a.dom=q,a.url=s,a.cookie=t,a.xml=v,a["const"]=w,a.event=x,a.drag=z,a.easing=A,a.number=h,a.controls=new n,a.controls.Registry=n,a.controls.TypeInfo=m,a.init=new u,a.init.register(a.controls,!0),a.init.on("done",b.proxy(a.controls.start,a.controls)),b(window).on("load",a.init.setup).on("unload",a.init.dispose),a}(window.jQuery);