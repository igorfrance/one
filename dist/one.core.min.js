var $array=new function(){this.fromArguments=function(a,b,c){if(null==a)return[];$type.isArray(a)||(a=[a]),1==a.length&&$type.isArray(a[0])&&(a=a[0]),isNaN(parseInt(b))&&(b=0),isNaN(parseInt(c))&&(c=a.length-1);for(var d=[],e=b;e<=c;e++)d.push(a[e]);return 1==d.length&&$type.isArray(d[0])&&(d=d[0]),d},this.flatten=function(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];if($type.isArray(c))for(var d=0;d<c.length;d++)$type.isArray(c[d])?a.push.apply(a,this.flatten(c[d])):a.push(c[d]);else a.push(c)}return a};var a={contains:function(a){return this.indexOf(a)>=0},indexOf:function(a,b){var c=isNaN(b)?0:b;if(c<0||c>this.length-1)return-1;for(var d=c;d<this.length;d++)if(this[d]==a)return d;return-1},lastIndexOf:function(a,b){var c=isNaN(b)?this.length-1:b;if(c<0||c>this.length-1)return-1;for(var d=c;d>=0;d--)if(this[d]==a)return d;return-1},every:function(a,b){if("function"!=typeof a)throw new Error("The callback argument is not a function!");b=b||this;for(var c=0;c<this.length;c++){var d=a.call(b,this[c],c,this);if(!d)return!1}return!0},some:function(a,b){if("function"!=typeof a)throw new Error("The callback argument is not a function!");b=b||this;for(var c=0;c<this.length;c++){var d=a.call(b,this[c],c,this);if(d)return!0}return!1},filter:function(a,b){if("function"!=typeof a)throw new Error("The callback argument is not a function!");var c=[];b=b||this;for(var d=0;d<this.length;d++){var e=a.call(b,this[d],d,this);e&&c.push(this[d])}return c},forEach:function(a,b){if("function"!=typeof a)throw new Error("The callback argument is not a function!");b=b||this;for(var c=0;c<this.length;c++)void 0!==this[c]&&a.call(b,this[c],c,this)},map:function(a,b){if("function"!=typeof a)throw new Error("The callback argument is not a function!");var c=[];b=b||this;for(var d=0;d<this.length;d++)void 0!==this[d]&&c.push(a.call(b,this[d],d,this));return c}};$type.extend(Array.prototype,a)};